 public override string SetNolock(string sql)
{
  if (sql.Contains(" WHERE "))
      return sql.Insert(sql.IndexOf(" WHERE ", StringComparison.OrdinalIgnoreCase), @" (NOLOCK)");
  if (sql.Contains(" ORDER BY "))
      return sql.Insert(sql.IndexOf(" ORDER BY ", StringComparison.OrdinalIgnoreCase), @" (NOLOCK)");
  return string.Concat(sql, " (NOLOCK)");  
}
